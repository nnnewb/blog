<!doctype html><html lang=zh-cn dir=ltr>
<head><meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="前言 惯例得有个前言。
LIEF是一个二进制文件分析和操作库，官方推荐的是 Python 版本，确实更好用，就是类型的问题有点多，而且没附送 .pyi 导致不大好写。而C++版本就没这问题，C++版本有自己的问题=，=
一个是官方提供下载的SDK是静态链接的，用到SDK的程序必须指定 /MT 不然编译器就会抱怨运行库不匹配。虽然看issue里已经有人解决了（-DLIEF_USE_CRT_{DEBUG,RELEASE}=MD/MT），但CI还是老样子，反正直接下载的SDK用起来就蛋疼，vcpkg 全都是 /MD 链接的，没法配合用。
更别提 MinGW 了，就没官方的SDK。
以上就是问题，解决问题的最简单办法就是自己编译了。
0x01 Visual C++ 工具链 msbuild 代码下载下来之后，用 CMake 去编译。下面的命令都是 Powershell 下的，注意折行用的是反引号 backquote，就是波浪号那个键，和 bash 用 反斜杠不一样。直接复制到命令行是跑不起来的。
cmake .. -G &amp;#34;Visual Studio 2019&amp;#34; # Generator，你的工具链，可以用 cmake --help 来看看有哪些可用的 -A Win32 # 选择 Visual C++ 工具链的情况下可以用 -A Win32 选择编译32位代码，或者 Win64 -DCMAKE_BUILD_TYPE=Debug # 常用的 Debug/Release/RelWithDebInfo -DLIEF_PYTHON_API=off # 不编译 Python 模块，这样就不用装 Python 了 -DLIEF_USE_CRT_DEBUG=MD # 使用 /MD 链接 msvcrt.dll 而不是 libcmt 这儿有个坑，用 Visual Studio 这个 Generator 的时候，虽然指定了 CMAKE_BUILD_TYPE，但实际没什么卵用，还得在编译的时候给参数 --config Debug 才会真的按 Debug 编译。"><title>编译LIEF的各种姿势</title>
<link rel=canonical href=https://nnnewb.github.io/blog/p/how-to-compile-lief-on-windows/>
<link rel=stylesheet href=/blog/scss/style.min.b80bf249ce4a22cf55e8d7340a0b37a2f2c10f54f3a9a49cb94b694a2eb0bbea.css><meta property="og:title" content="编译LIEF的各种姿势">
<meta property="og:description" content="前言 惯例得有个前言。
LIEF是一个二进制文件分析和操作库，官方推荐的是 Python 版本，确实更好用，就是类型的问题有点多，而且没附送 .pyi 导致不大好写。而C++版本就没这问题，C++版本有自己的问题=，=
一个是官方提供下载的SDK是静态链接的，用到SDK的程序必须指定 /MT 不然编译器就会抱怨运行库不匹配。虽然看issue里已经有人解决了（-DLIEF_USE_CRT_{DEBUG,RELEASE}=MD/MT），但CI还是老样子，反正直接下载的SDK用起来就蛋疼，vcpkg 全都是 /MD 链接的，没法配合用。
更别提 MinGW 了，就没官方的SDK。
以上就是问题，解决问题的最简单办法就是自己编译了。
0x01 Visual C++ 工具链 msbuild 代码下载下来之后，用 CMake 去编译。下面的命令都是 Powershell 下的，注意折行用的是反引号 backquote，就是波浪号那个键，和 bash 用 反斜杠不一样。直接复制到命令行是跑不起来的。
cmake .. -G &amp;#34;Visual Studio 2019&amp;#34; # Generator，你的工具链，可以用 cmake --help 来看看有哪些可用的 -A Win32 # 选择 Visual C++ 工具链的情况下可以用 -A Win32 选择编译32位代码，或者 Win64 -DCMAKE_BUILD_TYPE=Debug # 常用的 Debug/Release/RelWithDebInfo -DLIEF_PYTHON_API=off # 不编译 Python 模块，这样就不用装 Python 了 -DLIEF_USE_CRT_DEBUG=MD # 使用 /MD 链接 msvcrt.dll 而不是 libcmt 这儿有个坑，用 Visual Studio 这个 Generator 的时候，虽然指定了 CMAKE_BUILD_TYPE，但实际没什么卵用，还得在编译的时候给参数 --config Debug 才会真的按 Debug 编译。">
<meta property="og:url" content="https://nnnewb.github.io/blog/p/how-to-compile-lief-on-windows/">
<meta property="og:site_name" content="weakptr's 笔记">
<meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="c++"><meta property="article:tag" content="LIEF"><meta property="article:published_time" content="2021-10-08T16:25:00+08:00"><meta property="article:modified_time" content="2021-10-08T16:25:00+08:00">
<meta name=twitter:title content="编译LIEF的各种姿势">
<meta name=twitter:description content="前言 惯例得有个前言。
LIEF是一个二进制文件分析和操作库，官方推荐的是 Python 版本，确实更好用，就是类型的问题有点多，而且没附送 .pyi 导致不大好写。而C++版本就没这问题，C++版本有自己的问题=，=
一个是官方提供下载的SDK是静态链接的，用到SDK的程序必须指定 /MT 不然编译器就会抱怨运行库不匹配。虽然看issue里已经有人解决了（-DLIEF_USE_CRT_{DEBUG,RELEASE}=MD/MT），但CI还是老样子，反正直接下载的SDK用起来就蛋疼，vcpkg 全都是 /MD 链接的，没法配合用。
更别提 MinGW 了，就没官方的SDK。
以上就是问题，解决问题的最简单办法就是自己编译了。
0x01 Visual C++ 工具链 msbuild 代码下载下来之后，用 CMake 去编译。下面的命令都是 Powershell 下的，注意折行用的是反引号 backquote，就是波浪号那个键，和 bash 用 反斜杠不一样。直接复制到命令行是跑不起来的。
cmake .. -G &amp;#34;Visual Studio 2019&amp;#34; # Generator，你的工具链，可以用 cmake --help 来看看有哪些可用的 -A Win32 # 选择 Visual C++ 工具链的情况下可以用 -A Win32 选择编译32位代码，或者 Win64 -DCMAKE_BUILD_TYPE=Debug # 常用的 Debug/Release/RelWithDebInfo -DLIEF_PYTHON_API=off # 不编译 Python 模块，这样就不用装 Python 了 -DLIEF_USE_CRT_DEBUG=MD # 使用 /MD 链接 msvcrt.dll 而不是 libcmt 这儿有个坑，用 Visual Studio 这个 Generator 的时候，虽然指定了 CMAKE_BUILD_TYPE，但实际没什么卵用，还得在编译的时候给参数 --config Debug 才会真的按 Debug 编译。">
</head>
<body class=article-page>
<script>(function(){const a='StackColorScheme';localStorage.getItem(a)||localStorage.setItem(a,"dark")})()</script><script>(function(){const b='StackColorScheme',a=localStorage.getItem(b),c=window.matchMedia('(prefers-color-scheme: dark)').matches===!0;a=='dark'||a==='auto'&&c?document.documentElement.dataset.scheme='dark':document.documentElement.dataset.scheme='light'})()</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky">
<button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box>
<span class=hamburger-inner></span>
</span>
</button>
<header>
<figure class=site-avatar>
<a href=/blog>
<img src=/blog/img/avatar_hub37949326d1692892aa1e64434c0dda6_382115_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a>
<span class=emoji>🍑</span>
</figure>
<div class=site-meta>
<h1 class=site-name><a href=/blog>weakptr's 笔记</a></h1>
<h2 class=site-description>弃船！</h2>
</div>
</header><ol class=menu id=main-menu>
<li>
<a href=/blog><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>首页</span>
</a>
</li>
<li>
<a href=/blog/about><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>关于我</span>
</a>
</li>
<li>
<a href=/blog/archive><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>归档</span>
</a>
</li>
<li>
<a href=/blog/categories><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg>
<span>分类</span>
</a>
</li>
<div class=menu-bottom-section>
<li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span>
</li>
</div>
</ol>
</aside>
<main class="main full-width">
<article class=main-article>
<header class=article-header>
<div class=article-details>
<header class=article-category>
<a href=/blog/categories/c++/>
c++
</a>
</header>
<div class=article-title-wrapper>
<h2 class=article-title>
<a href=/blog/p/how-to-compile-lief-on-windows/>编译LIEF的各种姿势</a>
</h2>
</div>
<footer class=article-time>
<div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2021年 10月 8日</time>
</div>
<div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>
阅读时长: 2 分钟
</time>
</div>
</footer>
</div>
</header>
<section class=article-content>
<h2 id=前言>前言</h2>
<p>惯例得有个前言。</p>
<p>LIEF是一个二进制文件分析和操作库，官方推荐的是 Python 版本，确实更好用，就是类型的问题有点多，而且没附送 <code>.pyi</code> 导致不大好写。而C++版本就没这问题，C++版本有自己的问题=，=</p>
<p>一个是官方提供下载的SDK是静态链接的，用到SDK的程序必须指定 <code>/MT</code> 不然编译器就会抱怨运行库不匹配。虽然看issue里已经有人解决了（<code>-DLIEF_USE_CRT_{DEBUG,RELEASE}=MD/MT</code>），但CI还是老样子，反正直接下载的SDK用起来就蛋疼，vcpkg 全都是 <code>/MD</code> 链接的，没法配合用。</p>
<p>更别提 MinGW 了，就没官方的SDK。</p>
<p>以上就是问题，解决问题的最简单办法就是自己编译了。</p>
<h2 id=0x01-visual-c-工具链-msbuild>0x01 Visual C++ 工具链 msbuild</h2>
<p>代码下载下来之后，用 CMake 去编译。下面的命令都是 Powershell 下的，注意折行用的是反引号 backquote，就是波浪号那个键，和 bash 用 反斜杠不一样。直接复制到命令行是跑不起来的。</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=n>cmake</span> <span class=p>..</span> 
	<span class=n>-G</span> <span class=s2>&#34;Visual Studio 2019&#34;</span> <span class=c># Generator，你的工具链，可以用 cmake --help 来看看有哪些可用的</span>
	<span class=n>-A</span> <span class=n>Win32</span> <span class=c># 选择 Visual C++ 工具链的情况下可以用 -A Win32 选择编译32位代码，或者 Win64</span>
	<span class=n>-DCMAKE_BUILD_TYPE</span><span class=p>=</span><span class=n>Debug</span> <span class=c># 常用的 Debug/Release/RelWithDebInfo</span>
	<span class=n>-DLIEF_PYTHON_API</span><span class=p>=</span><span class=n>off</span> <span class=c># 不编译 Python 模块，这样就不用装 Python 了</span>
	<span class=n>-DLIEF_USE_CRT_DEBUG</span><span class=p>=</span><span class=nb>MD </span><span class=c># 使用 /MD 链接 msvcrt.dll 而不是 libcmt</span>
</code></pre></div><p>这儿有个坑，用 Visual Studio 这个 Generator 的时候，虽然指定了 <code>CMAKE_BUILD_TYPE</code>，但实际没什么卵用，还得在编译的时候给参数 <code>--config Debug</code> 才会真的按 Debug 编译。</p>
<p>然后是编译命令：</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=n>cmake</span> <span class=p>-</span><span class=n>-build</span> <span class=p>.</span> <span class=p>-</span><span class=n>-config</span> <span class=n>Debug</span> <span class=p>-</span><span class=n>-target</span> <span class=n>LIB_LIEF</span>
</code></pre></div><p>默认用微软的 msbuild 会花很长时间去编译，不嫌麻烦的话可以用 Ninja。</p>
<p>编译完还不能用，还得先“安装”到一个目录里。</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=n>cmake</span> <span class=p>-</span><span class=n>-install</span> <span class=p>.</span> <span class=p>-</span><span class=n>-config</span> <span class=n>Debug</span> <span class=p>-</span><span class=n>-prefix</span> <span class=nb>LIEF-msvc</span><span class=n>-debug</span>
</code></pre></div><p>这样就会把必要的文件给复制到 <code>LIEF-msvc-debug</code> 这个文件夹里了，参考 LIEF 官方的集成文档，把 <code>LIEF_DIR</code> 设置成这个文件夹的路径就可以用啦。</p>
<h2 id=0x02-visual-c-工具链-ninja>0x02 Visual C++ 工具链 ninja</h2>
<p>使用 CMake + Ninja 的情况下没法用 <code>-A</code> 去控制编译32位还是64位了，你得先装好 Visual C++ 构建工具，然后打开开发者命令提示符。</p>
<p><img src=/blog/image/how-to-compile-lief-on-windows/image-20211008160449880.png loading=lazy alt=image-20211008160449880></p>
<p>比如想编译32位的就选 <code>x86 native tool command prompt</code> ，在这个命令提示符里用 cmake 构建。</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=n>cmake</span> <span class=p>..</span> <span class=n>-G</span> <span class=n>Ninja</span> <span class=n>-DCMAKE_BUILD_TYPE</span><span class=p>=</span><span class=n>Debug</span> <span class=n>-DLIEF_PYTHON_API</span><span class=p>=</span><span class=n>off</span> <span class=n>-DLIEF_USE_CRT_DEBUG</span><span class=p>=</span><span class=nb>MD
</span><span class=nb></span><span class=n>cmake</span> <span class=p>-</span><span class=n>-build</span> <span class=p>.</span> <span class=p>-</span><span class=n>-target</span> <span class=n>LIB_LIEF</span>
<span class=n>cmake</span> <span class=p>-</span><span class=n>-install</span> <span class=p>.</span> <span class=p>-</span><span class=n>-prefix</span> <span class=nb>LIEF-msvc</span><span class=n>-debug</span>
</code></pre></div><p>其他和直接用 msvc 没啥区别。</p>
<h2 id=0x03-mingw-工具链-makefile>0x03 MinGW 工具链 makefile</h2>
<p>MinGW 工具链其实和 msvc 差不太大。先装 MinGW，推荐 msys2，msys2装好后跑命令 <code>pacman -Sy mingw-w64-i686-toolchain</code> 就能装上32位的编译工具链了，包括了 <code>gcc</code>、<code>g++</code>、<code>mingw32-make</code> 这些必要的程序。</p>
<p>完事后把 <code>MinGW</code> 工具链加到 <code>PATH</code> 里。一般来说，假如你把 msys2 装到 <code>C:\msys64</code> 下的话，那要加的路径就是 <code>C:\msys64\mingw32\bin</code>，自己看看要用的 gcc 放在哪儿呗。</p>
<p>另外 <code>LIEF_USE_CRT_DEBUG</code> 这变量也用不到了，<code>MD</code>还是<code>MT</code> 这是专供 MSVC 的选择题，MinGW 不管这个。</p>
<p>接着就可以用 CMake 了。</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=n>cmake</span> <span class=p>..</span> <span class=n>-G</span> <span class=s2>&#34;MinGW Makefiles&#34;</span> <span class=n>-DCMAKE_BUILD_TYPE</span><span class=p>=</span><span class=n>Debug</span> <span class=n>-DLIEF_PYTHON_API</span><span class=p>=</span><span class=n>off</span> <span class=s1>&#39;-DCMAKE_C_FLAGS:STRING=&#34;-m32&#34;&#39;</span> <span class=s1>&#39;-DCMAKE_CXX_FLAGS:STRING=&#34;-m32&#34;&#39;</span>
<span class=n>cmake</span> <span class=p>-</span><span class=n>-build</span> <span class=p>.</span> <span class=p>-</span><span class=n>-target</span> <span class=n>LIB_LIEF</span>
<span class=n>cmake</span> <span class=p>-</span><span class=n>-install</span> <span class=p>.</span> <span class=p>-</span><span class=n>-prefix</span> <span class=nb>LIEF-mingw32</span><span class=n>-debug</span>
</code></pre></div><p>不用担心 CMake 选错工具链，用 <code>MinGW Makefiles</code> 的情况下会优先考虑 GCC 的。不过还有个老问题：怎么选32位还是64位。答案是设置下 <code>C_FLAGS</code> 和 <code>CXX_FLAGS</code> 这两个特殊变量，让编译器加上 <code>-m32</code> 这个参数，编译出来的就是32位代码了。</p>
<h2 id=0x04-mingw-工具链-ninja>0x04 MinGW 工具链 Ninja</h2>
<p>和 <code>MinGW Makefiles</code> 差不太多，但是 <code>Ninja</code> 没那么聪明，不知道要用什么编译器，得手动指定。</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=n>cmake</span> <span class=p>..</span> <span class=n>-G</span> <span class=n>Ninja</span> <span class=n>-DCMAKE_BUILD_TYPE</span><span class=p>=</span><span class=n>Debug</span> <span class=n>-DLIEF_PYTHON_API</span><span class=p>=</span><span class=n>off</span> <span class=n>-DCMAKE_C_COMPILER</span><span class=p>=</span><span class=n>gcc</span> <span class=n>-DCMAKE_CXX_COMPILER</span><span class=p>=</span><span class=n>g</span><span class=p>++</span> <span class=s1>&#39;-DCMAKE_C_FLAGS:STRING=&#34;-m32&#34;&#39;</span> <span class=s1>&#39;-DCMAKE_CXX_FLAGS:STRING=&#34;-m32&#34;&#39;</span>
<span class=n>cmake</span> <span class=p>-</span><span class=n>-build</span> <span class=p>.</span> <span class=p>-</span><span class=n>-target</span> <span class=n>LIB_LIEF</span>
<span class=n>cmake</span> <span class=p>-</span><span class=n>-install</span> <span class=p>.</span> <span class=p>-</span><span class=n>-prefix</span> <span class=nb>LIEF-mingw32</span><span class=n>-debug</span>
</code></pre></div><p>配置阶段多出来两个参数，<code>-DCMAKE_C_COMPILER=gcc -DCMAKE_CXX_COMPILER=g++</code>，目的就是告诉 CMake 放机灵点，用 <code>gcc/g++</code> 编译器，别瞎整。</p>
<h2 id=总结>总结</h2>
<p>也就这么回事吧。</p>
</section>
<footer class=article-footer>
<section class=article-tags>
<a href=/blog/tags/c++/>c++</a>
<a href=/blog/tags/lief/>LIEF</a>
</section>
<section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span>
</section>
</footer>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css integrity=sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js integrity=sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js integrity=sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.querySelector(`.article-content`),{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})})</script>
</article>
<aside class=related-contents--wrapper>
<h2 class=section-title>相关文章</h2>
<div class=related-contents>
<div class="flex article-list--tile">
<article>
<a href=/blog/p/how-branch-prediction-effects-executoin-performance-and-security/>
<div class=article-details>
<h2 class=article-title>分支预测对执行效率和安全的影响</h2>
</div>
</a>
</article>
<article>
<a href=/blog/p/cpu-cache-page-fault-and-false-sharing/>
<div class=article-details>
<h2 class=article-title>CPU缓存、缺页和伪共享</h2>
</div>
</a>
</article>
<article>
<a href=/blog/p/%E5%9C%A8c-%E4%B8%AD%E5%B5%8C%E5%85%A5python%E8%A7%A3%E9%87%8A%E5%99%A8/>
<div class=article-details>
<h2 class=article-title>在C++中嵌入Python解释器</h2>
</div>
</a>
</article>
<article>
<a href=/blog/p/gamehollywood-%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/>
<div class=article-details>
<h2 class=article-title>GameHollywood 面试笔记</h2>
</div>
</a>
</article>
<article>
<a href=/blog/p/%E5%8F%AF%E9%87%8D%E5%85%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%AE%89%E5%85%A8/>
<div class=article-details>
<h2 class=article-title>可重入和异步安全</h2>
</div>
</a>
</article>
</div>
</div>
</aside>
<link rel=stylesheet href=https://unpkg.com/vssue/dist/vssue.min.css>
<div id=vssue></div>
<script src=https://unpkg.com/vue@2.6.14/dist/vue.runtime.min.js></script>
<script src=https://unpkg.com/vssue@1.4.8/dist/vssue.github.min.js></script>
<script>new Vue({el:"#vssue",render:a=>a("Vssue",{props:{title:"编译LIEF的各种姿势",options:{autoCreateIssue:!1,owner:"nnnewb",repo:"blog",clientId:"285910fdc1567a1a23e3",clientSecret:"f00da5438d9ac82c4a86024866c7a916ae411edc"}}})})</script>
<footer class=site-footer>
<section class=copyright>
&copy;
2021 -
2022 weakptr's 笔记
</section>
<section class=powerby>
GitHub Pages <br>
Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> <br>
Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.10.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a>
</section>
</footer>
<div class=pswp tabindex=-1 role=dialog aria-hidden=true>
<div class=pswp__bg></div>
<div class=pswp__scroll-wrap>
<div class=pswp__container>
<div class=pswp__item></div>
<div class=pswp__item></div>
<div class=pswp__item></div>
</div>
<div class="pswp__ui pswp__ui--hidden">
<div class=pswp__top-bar>
<div class=pswp__counter></div>
<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
<div class=pswp__preloader>
<div class=pswp__preloader__icn>
<div class=pswp__preloader__cut>
<div class=pswp__preloader__donut></div>
</div>
</div>
</div>
</div>
<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
<div class=pswp__share-tooltip></div>
</div>
<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
</button>
<div class=pswp__caption>
<div class=pswp__caption__center></div>
</div>
</div>
</div>
</div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous>
</main>
<aside class="sidebar right-sidebar sticky">
<section class="widget archives">
<div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg>
</div>
<h2 class="widget-title section-title">目录</h2>
<div class=widget--toc>
<nav id=TableOfContents>
<ol>
<li><a href=#前言>前言</a></li>
<li><a href=#0x01-visual-c-工具链-msbuild>0x01 Visual C++ 工具链 msbuild</a></li>
<li><a href=#0x02-visual-c-工具链-ninja>0x02 Visual C++ 工具链 ninja</a></li>
<li><a href=#0x03-mingw-工具链-makefile>0x03 MinGW 工具链 makefile</a></li>
<li><a href=#0x04-mingw-工具链-ninja>0x04 MinGW 工具链 Ninja</a></li>
<li><a href=#总结>总结</a></li>
</ol>
</nav>
</div>
</section>
</aside>
</div>
<script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous></script><script type=text/javascript src=/blog/ts/main.js defer></script>
<script>(function(){const a=document.createElement('link');a.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",a.type="text/css",a.rel="stylesheet",document.head.appendChild(a)})()</script>
</body>
</html>