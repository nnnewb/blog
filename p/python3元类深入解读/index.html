<!doctype html><html lang=zh-cn dir=ltr>
<head><meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="0. intro å…ƒç±»æ˜¯ python é‡Œè¢«è¯´çƒ‚äº†çš„ä¸€ä¸ªä¸œè¥¿ï¼Œç„¶è€Œæ—¥å¸¸ç”¨åˆ°çš„åœ°æ–¹å®åœ¨ä¸å¤šï¼Œæ¯æ¬¡æƒ³åˆ°éƒ½å¾—æŸ¥ä¸€ä¸‹è°·æ­Œï¼Œæƒ³æƒ³å¹²è„†åœ¨åšå®¢ç•™ä¸ªç¬”è®°å¥½äº†ã€‚
å…ƒç±»çš„ä¸»è¦ç”¨é€”æ˜¯å®šåˆ¶ç±»çš„äº§ç”Ÿè¿‡ç¨‹ï¼Œä»¥ä¾¿äºæ ¹æ®ç±»å£°æ˜åŒ…å«çš„ä¿¡æ¯æ¥åˆ›å»ºå‡ºä¸åŒçš„ç±»ã€‚
1. type æåˆ°å…ƒç±»ä¸å¾—ä¸è¯´ä¸€ä¸‹ python çš„ç±»å‹ç³»ç»Ÿã€‚
python çš„ class ä¹Ÿè¢«è§†ä½œä¸€ä¸ªå¯¹è±¡ï¼Œå®šåˆ¶ä¸€ä¸ª class çš„æ„é€ è¿‡ç¨‹å…¶å®å°±å’Œå¹³æ—¶åœ¨ class å®šä¹‰é‡Œå†™__init__æ²¡å•¥åŒºåˆ«ã€‚
python3 é‡Œç±»çš„ç±»å‹æ˜¯typeï¼Œtypeåˆç»§æ‰¿è‡ªobjectï¼Œobjectçš„çˆ¶ç±»æ˜¯è‡ªå·±ï¼Œæ„æˆä¸€ä¸ªå¥‡æ€ªçš„é—­ç¯ã€‚å…¶ä¸­ï¼Œtypeæœ¬èº«æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç±»ï¼Œä»–æ˜¯è‡ªå·±çš„å®ä¾‹ã€‚
graph TB; type --&amp;gt; |inherite|object; type --&amp;gt; |instance-of| type; object --&amp;gt; |instance-of|type; other-cls --&amp;gt; |instance-of| type; other-cls --&amp;gt; |inherite| object; other-cls-instance --&amp;gt; |instance-of|other-cls; typeæœ‰ä¸¤ç§è°ƒç”¨æ–¹å¼ï¼Œä¸€ç§æ˜¯æœ€å¸¸ç”¨çš„æ¥å—ä¸€ä¸ªå¯¹è±¡å‚æ•°ï¼Œè¿”å›è¯¥å¯¹è±¡çš„ç±»å‹ï¼Œå¦ä¸€ç§æ˜¯ä¸æ€ä¹ˆå¸¸ç”¨çš„ï¼Œç›´æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»å‹ã€‚
# usage with one argument type(object) # è¿”å›å¯¹è±¡çš„ç±»å‹ï¼Œè¿™é‡Œè¿”å›çš„æ˜¯ `type` # usage with three arguments type(name, bases, attr) # è¿”å›æ–°åˆ›å»ºçš„ç±»å‹ 2. meta class å…ƒç±»è¯­æ³•å¦‚ä¸‹
class MyClass(basecls1, basecls2, metaclass=MetaClass, named1=arg, named2=arg): ."><title>python3å…ƒç±»æ·±å…¥è§£è¯»</title>
<link rel=canonical href=https://nnnewb.github.io/blog/p/python3%E5%85%83%E7%B1%BB%E6%B7%B1%E5%85%A5%E8%A7%A3%E8%AF%BB/>
<link rel=stylesheet href=/blog/scss/style.min.b80bf249ce4a22cf55e8d7340a0b37a2f2c10f54f3a9a49cb94b694a2eb0bbea.css><meta property="og:title" content="python3å…ƒç±»æ·±å…¥è§£è¯»">
<meta property="og:description" content="0. intro å…ƒç±»æ˜¯ python é‡Œè¢«è¯´çƒ‚äº†çš„ä¸€ä¸ªä¸œè¥¿ï¼Œç„¶è€Œæ—¥å¸¸ç”¨åˆ°çš„åœ°æ–¹å®åœ¨ä¸å¤šï¼Œæ¯æ¬¡æƒ³åˆ°éƒ½å¾—æŸ¥ä¸€ä¸‹è°·æ­Œï¼Œæƒ³æƒ³å¹²è„†åœ¨åšå®¢ç•™ä¸ªç¬”è®°å¥½äº†ã€‚
å…ƒç±»çš„ä¸»è¦ç”¨é€”æ˜¯å®šåˆ¶ç±»çš„äº§ç”Ÿè¿‡ç¨‹ï¼Œä»¥ä¾¿äºæ ¹æ®ç±»å£°æ˜åŒ…å«çš„ä¿¡æ¯æ¥åˆ›å»ºå‡ºä¸åŒçš„ç±»ã€‚
1. type æåˆ°å…ƒç±»ä¸å¾—ä¸è¯´ä¸€ä¸‹ python çš„ç±»å‹ç³»ç»Ÿã€‚
python çš„ class ä¹Ÿè¢«è§†ä½œä¸€ä¸ªå¯¹è±¡ï¼Œå®šåˆ¶ä¸€ä¸ª class çš„æ„é€ è¿‡ç¨‹å…¶å®å°±å’Œå¹³æ—¶åœ¨ class å®šä¹‰é‡Œå†™__init__æ²¡å•¥åŒºåˆ«ã€‚
python3 é‡Œç±»çš„ç±»å‹æ˜¯typeï¼Œtypeåˆç»§æ‰¿è‡ªobjectï¼Œobjectçš„çˆ¶ç±»æ˜¯è‡ªå·±ï¼Œæ„æˆä¸€ä¸ªå¥‡æ€ªçš„é—­ç¯ã€‚å…¶ä¸­ï¼Œtypeæœ¬èº«æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç±»ï¼Œä»–æ˜¯è‡ªå·±çš„å®ä¾‹ã€‚
graph TB; type --&amp;gt; |inherite|object; type --&amp;gt; |instance-of| type; object --&amp;gt; |instance-of|type; other-cls --&amp;gt; |instance-of| type; other-cls --&amp;gt; |inherite| object; other-cls-instance --&amp;gt; |instance-of|other-cls; typeæœ‰ä¸¤ç§è°ƒç”¨æ–¹å¼ï¼Œä¸€ç§æ˜¯æœ€å¸¸ç”¨çš„æ¥å—ä¸€ä¸ªå¯¹è±¡å‚æ•°ï¼Œè¿”å›è¯¥å¯¹è±¡çš„ç±»å‹ï¼Œå¦ä¸€ç§æ˜¯ä¸æ€ä¹ˆå¸¸ç”¨çš„ï¼Œç›´æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»å‹ã€‚
# usage with one argument type(object) # è¿”å›å¯¹è±¡çš„ç±»å‹ï¼Œè¿™é‡Œè¿”å›çš„æ˜¯ `type` # usage with three arguments type(name, bases, attr) # è¿”å›æ–°åˆ›å»ºçš„ç±»å‹ 2. meta class å…ƒç±»è¯­æ³•å¦‚ä¸‹
class MyClass(basecls1, basecls2, metaclass=MetaClass, named1=arg, named2=arg): .">
<meta property="og:url" content="https://nnnewb.github.io/blog/p/python3%E5%85%83%E7%B1%BB%E6%B7%B1%E5%85%A5%E8%A7%A3%E8%AF%BB/">
<meta property="og:site_name" content="weakptr's ç¬”è®°">
<meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="python"><meta property="article:published_time" content="2018-12-20T19:46:00+08:00"><meta property="article:modified_time" content="2018-12-20T19:46:00+08:00">
<meta name=twitter:title content="python3å…ƒç±»æ·±å…¥è§£è¯»">
<meta name=twitter:description content="0. intro å…ƒç±»æ˜¯ python é‡Œè¢«è¯´çƒ‚äº†çš„ä¸€ä¸ªä¸œè¥¿ï¼Œç„¶è€Œæ—¥å¸¸ç”¨åˆ°çš„åœ°æ–¹å®åœ¨ä¸å¤šï¼Œæ¯æ¬¡æƒ³åˆ°éƒ½å¾—æŸ¥ä¸€ä¸‹è°·æ­Œï¼Œæƒ³æƒ³å¹²è„†åœ¨åšå®¢ç•™ä¸ªç¬”è®°å¥½äº†ã€‚
å…ƒç±»çš„ä¸»è¦ç”¨é€”æ˜¯å®šåˆ¶ç±»çš„äº§ç”Ÿè¿‡ç¨‹ï¼Œä»¥ä¾¿äºæ ¹æ®ç±»å£°æ˜åŒ…å«çš„ä¿¡æ¯æ¥åˆ›å»ºå‡ºä¸åŒçš„ç±»ã€‚
1. type æåˆ°å…ƒç±»ä¸å¾—ä¸è¯´ä¸€ä¸‹ python çš„ç±»å‹ç³»ç»Ÿã€‚
python çš„ class ä¹Ÿè¢«è§†ä½œä¸€ä¸ªå¯¹è±¡ï¼Œå®šåˆ¶ä¸€ä¸ª class çš„æ„é€ è¿‡ç¨‹å…¶å®å°±å’Œå¹³æ—¶åœ¨ class å®šä¹‰é‡Œå†™__init__æ²¡å•¥åŒºåˆ«ã€‚
python3 é‡Œç±»çš„ç±»å‹æ˜¯typeï¼Œtypeåˆç»§æ‰¿è‡ªobjectï¼Œobjectçš„çˆ¶ç±»æ˜¯è‡ªå·±ï¼Œæ„æˆä¸€ä¸ªå¥‡æ€ªçš„é—­ç¯ã€‚å…¶ä¸­ï¼Œtypeæœ¬èº«æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç±»ï¼Œä»–æ˜¯è‡ªå·±çš„å®ä¾‹ã€‚
graph TB; type --&amp;gt; |inherite|object; type --&amp;gt; |instance-of| type; object --&amp;gt; |instance-of|type; other-cls --&amp;gt; |instance-of| type; other-cls --&amp;gt; |inherite| object; other-cls-instance --&amp;gt; |instance-of|other-cls; typeæœ‰ä¸¤ç§è°ƒç”¨æ–¹å¼ï¼Œä¸€ç§æ˜¯æœ€å¸¸ç”¨çš„æ¥å—ä¸€ä¸ªå¯¹è±¡å‚æ•°ï¼Œè¿”å›è¯¥å¯¹è±¡çš„ç±»å‹ï¼Œå¦ä¸€ç§æ˜¯ä¸æ€ä¹ˆå¸¸ç”¨çš„ï¼Œç›´æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»å‹ã€‚
# usage with one argument type(object) # è¿”å›å¯¹è±¡çš„ç±»å‹ï¼Œè¿™é‡Œè¿”å›çš„æ˜¯ `type` # usage with three arguments type(name, bases, attr) # è¿”å›æ–°åˆ›å»ºçš„ç±»å‹ 2. meta class å…ƒç±»è¯­æ³•å¦‚ä¸‹
class MyClass(basecls1, basecls2, metaclass=MetaClass, named1=arg, named2=arg): .">
</head>
<body class=article-page>
<script>(function(){const a='StackColorScheme';localStorage.getItem(a)||localStorage.setItem(a,"dark")})()</script><script>(function(){const b='StackColorScheme',a=localStorage.getItem(b),c=window.matchMedia('(prefers-color-scheme: dark)').matches===!0;a=='dark'||a==='auto'&&c?document.documentElement.dataset.scheme='dark':document.documentElement.dataset.scheme='light'})()</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky">
<button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ¢èœå•>
<span class=hamburger-box>
<span class=hamburger-inner></span>
</span>
</button>
<header>
<figure class=site-avatar>
<a href=/blog>
<img src=/blog/img/avatar_hub37949326d1692892aa1e64434c0dda6_382115_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a>
<span class=emoji>ğŸ‘</span>
</figure>
<div class=site-meta>
<h1 class=site-name><a href=/blog>weakptr's ç¬”è®°</a></h1>
<h2 class=site-description>å¼ƒèˆ¹ï¼</h2>
</div>
</header><ol class=menu id=main-menu>
<li>
<a href=/blog><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>é¦–é¡µ</span>
</a>
</li>
<li>
<a href=/blog/about><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>å…³äºæˆ‘</span>
</a>
</li>
<li>
<a href=/blog/archive><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>å½’æ¡£</span>
</a>
</li>
<li>
<a href=/blog/categories><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg>
<span>åˆ†ç±»</span>
</a>
</li>
<li>
<a href=/blog/link><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>å‹é“¾</span>
</a>
</li>
<div class=menu-bottom-section>
<li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>æš—è‰²æ¨¡å¼</span>
</li>
</div>
</ol>
</aside>
<main class="main full-width">
<article class=main-article>
<header class=article-header>
<div class=article-details>
<header class=article-category>
<a href=/blog/categories/python/>
python
</a>
</header>
<div class=article-title-wrapper>
<h2 class=article-title>
<a href=/blog/p/python3%E5%85%83%E7%B1%BB%E6%B7%B1%E5%85%A5%E8%A7%A3%E8%AF%BB/>python3å…ƒç±»æ·±å…¥è§£è¯»</a>
</h2>
</div>
<footer class=article-time>
<div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2018å¹´ 12æœˆ 20æ—¥</time>
</div>
<div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>
é˜…è¯»æ—¶é•¿: 3 åˆ†é’Ÿ
</time>
</div>
</footer>
</div>
</header>
<section class=article-content>
<h2 id=0-intro>0. intro</h2>
<p>å…ƒç±»æ˜¯ python é‡Œè¢«è¯´çƒ‚äº†çš„ä¸€ä¸ªä¸œè¥¿ï¼Œç„¶è€Œæ—¥å¸¸ç”¨åˆ°çš„åœ°æ–¹å®åœ¨ä¸å¤šï¼Œæ¯æ¬¡æƒ³åˆ°éƒ½å¾—æŸ¥ä¸€ä¸‹è°·æ­Œï¼Œæƒ³æƒ³å¹²è„†åœ¨åšå®¢ç•™ä¸ªç¬”è®°å¥½äº†ã€‚</p>
<p>å…ƒç±»çš„ä¸»è¦ç”¨é€”æ˜¯å®šåˆ¶<strong>ç±»</strong>çš„äº§ç”Ÿè¿‡ç¨‹ï¼Œä»¥ä¾¿äºæ ¹æ®ç±»å£°æ˜åŒ…å«çš„ä¿¡æ¯æ¥åˆ›å»ºå‡ºä¸åŒçš„ç±»ã€‚</p>
<h2 id=1-type>1. type</h2>
<p>æåˆ°å…ƒç±»ä¸å¾—ä¸è¯´ä¸€ä¸‹ python çš„ç±»å‹ç³»ç»Ÿã€‚</p>
<p>python çš„ class ä¹Ÿè¢«è§†ä½œä¸€ä¸ªå¯¹è±¡ï¼Œå®šåˆ¶ä¸€ä¸ª class çš„æ„é€ è¿‡ç¨‹å…¶å®å°±å’Œå¹³æ—¶åœ¨ class å®šä¹‰é‡Œå†™<code>__init__</code>æ²¡å•¥åŒºåˆ«ã€‚</p>
<p>python3 é‡Œç±»çš„ç±»å‹æ˜¯<code>type</code>ï¼Œ<code>type</code>åˆç»§æ‰¿è‡ª<code>object</code>ï¼Œ<code>object</code>çš„çˆ¶ç±»æ˜¯è‡ªå·±ï¼Œæ„æˆä¸€ä¸ªå¥‡æ€ªçš„é—­ç¯ã€‚å…¶ä¸­ï¼Œ<code>type</code>æœ¬èº«æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç±»ï¼Œä»–æ˜¯è‡ªå·±çš„å®ä¾‹ã€‚</p>
<pre><code class=language-mermaid data-lang=mermaid>graph TB;
	type --&gt; |inherite|object;
	type --&gt; |instance-of| type;
	object --&gt; |instance-of|type;
	other-cls --&gt; |instance-of| type;
	other-cls --&gt; |inherite| object;
	other-cls-instance --&gt; |instance-of|other-cls;
</code></pre><p><code>type</code>æœ‰ä¸¤ç§è°ƒç”¨æ–¹å¼ï¼Œä¸€ç§æ˜¯æœ€å¸¸ç”¨çš„æ¥å—ä¸€ä¸ªå¯¹è±¡å‚æ•°ï¼Œè¿”å›è¯¥å¯¹è±¡çš„ç±»å‹ï¼Œå¦ä¸€ç§æ˜¯ä¸æ€ä¹ˆå¸¸ç”¨çš„ï¼Œç›´æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»å‹ã€‚</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=c1># usage with one argument</span>
<span class=nb>type</span><span class=p>(</span><span class=nb>object</span><span class=p>)</span> <span class=c1># è¿”å›å¯¹è±¡çš„ç±»å‹ï¼Œè¿™é‡Œè¿”å›çš„æ˜¯ `type`</span>

<span class=c1># usage with three arguments</span>
<span class=nb>type</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>attr</span><span class=p>)</span> <span class=c1># è¿”å›æ–°åˆ›å»ºçš„ç±»å‹</span>
</code></pre></div><h2 id=2-meta-class>2. meta class</h2>
<p>å…ƒç±»è¯­æ³•å¦‚ä¸‹</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=k>class</span> <span class=nc>MyClass</span><span class=p>(</span><span class=n>basecls1</span><span class=p>,</span> <span class=n>basecls2</span><span class=p>,</span> <span class=n>metaclass</span><span class=o>=</span><span class=n>MetaClass</span><span class=p>,</span> <span class=n>named1</span><span class=o>=</span><span class=n>arg</span><span class=p>,</span> <span class=n>named2</span><span class=o>=</span><span class=n>arg</span><span class=p>):</span> <span class=o>...</span>
</code></pre></div><p>ä¸€èˆ¬çš„å…ƒç±»å¯ä»¥æ˜¯ä¸€ä¸ªçœŸæ­£çš„<code>class</code>æˆ–è€…ä¸€ä¸ªå‡½æ•°ã€‚</p>
<p>ä»¥å‡½æ•°ä¸ºä¾‹ï¼š</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=k>def</span> <span class=nf>meta_f</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>attr</span><span class=p>):</span>
	<span class=k>return</span> <span class=nb>type</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>attr</span><span class=p>)</span>

<span class=k>class</span> <span class=nc>A</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>meta_f</span><span class=p>):</span> <span class=o>...</span>
</code></pre></div><p>ä»¥ç±»ä¸ºä¾‹ï¼š</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=k>class</span> <span class=nc>MetaC</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
	<span class=k>def</span> <span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>attr</span><span class=p>):</span>
		<span class=k>return</span> <span class=nb>type</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>attr</span><span class=p>)</span>

<span class=k>class</span> <span class=nc>A</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>MetaC</span><span class=p>):</span> <span class=o>...</span>
</code></pre></div><p>å…ƒç±»å¯ä»¥æ¥å—å‚æ•°ï¼Œå‚æ•°å¿…é¡»æ˜¯å‘½åçš„ï¼Œä¼ é€’å‚æ•°çš„æ–¹å¼æ˜¯å†™åœ¨ç±»å£°æ˜çš„ç»§æ‰¿åˆ—è¡¨é‡Œã€‚</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=k>def</span> <span class=nf>meta</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>attr</span><span class=p>,</span> <span class=n>named_arg</span><span class=p>,</span> <span class=n>optional_arg</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
	<span class=k>return</span> <span class=nb>type</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=nb>dict</span><span class=p>(</span><span class=o>**</span><span class=n>attr</span><span class=p>,</span> <span class=n>arg</span><span class=o>=</span><span class=n>named_arg</span><span class=p>,</span> <span class=n>option</span><span class=o>=</span><span class=n>optional_arg</span><span class=p>))</span>

<span class=k>class</span> <span class=nc>A</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>meta</span><span class=p>,</span> <span class=n>named_arg</span><span class=o>=</span><span class=s2>&#34;hi&#34;</span><span class=p>):</span> <span class=o>...</span>

<span class=nb>print</span><span class=p>(</span><span class=n>A</span><span class=o>.</span><span class=n>arg</span><span class=p>)</span>  <span class=c1># output: hi</span>
</code></pre></div><p>ä½ç½®å‚æ•°éƒ½ä¼šè¢«å½“æˆç»§æ‰¿åˆ—è¡¨ï¼Œä½œä¸º<code>bases</code>å‚æ•°(list)çš„ä¸€éƒ¨åˆ†ä¼ å…¥å…ƒç±»ã€‚</p>
<h2 id=3-å…ƒç±»ç»§æ‰¿è§„åˆ™>3. å…ƒç±»ç»§æ‰¿è§„åˆ™</h2>
<p>æœ‰äº†å…ƒç±»é‚£ä¹ˆå°±æœ‰äº†ç›¸åº”ç»§æ‰¿è§„åˆ™ï¼Œæ˜¾è€Œæ˜“è§ã€‚å…ƒç±»ç”¨äºæ„é€ ä¸€ä¸ªç±»ï¼Œä¸¤ä¸ªçˆ¶ç±»åˆ†åˆ«æœ‰ä¸€ä¸ªä¸åŒçš„å…ƒç±»æ˜¾ç„¶ä¼šé€ æˆå†²çªï¼šè¿™ä¸ªå­ç±»ç”¨å“ªä¸ªå…ƒç±»æ„é€ ï¼Ÿ</p>
<p>é¦–å…ˆçœ‹å…ƒç±»çš„åœ¨åˆ›å»ºç±»çš„è¿‡ç¨‹ä¸­çš„ä½ç½®ï¼Œæ‘˜è‡ª python æ–‡æ¡£<a class=link href=https://docs.python.org/3/reference/datamodel.html#metaclasses target=_blank rel=noopener>3.3.3.1. Metaclasses</a></p>
<blockquote>
<ul>
<li>MRO entries are resolved</li>
<li>the appropriate metaclass is determined</li>
<li>the class namespace is prepared</li>
<li>the class body is executed</li>
<li>the class object is created</li>
</ul>
</blockquote>
<p>ä¸€æ—¦å¤„ç†å®Œç»§æ‰¿é“¾ï¼ˆmro, method resolve orderï¼‰ä¹‹åï¼Œå°±ä¼šå†³å®šé‡‡ç”¨å“ªä¸ª metaclass ä½œä¸ºæ„é€ è¿™ä¸ªç±»çš„å…ƒç±»ã€‚</p>
<p>åœ¨ python æ–‡æ¡£çš„<a class=link href=https://docs.python.org/3/reference/datamodel.html#determining-the-appropriate-metaclass target=_blank rel=noopener>3.3.3.3 determining the appropriate metaclass</a>ä¸­æè¿°äº†å¦‚ä½•ç¡®å®šåˆé€‚çš„å…ƒç±»ï¼Œæ‘˜å½•å¦‚ä¸‹ã€‚</p>
<blockquote>
<ul>
<li>if no bases and no explicit metaclass are given, then type() is used</li>
<li>if an explicit metaclass is given and it is not an instance of type(), then it is used directly as the metaclass</li>
<li>if an instance of type() is given as the explicit metaclass, or bases are defined, then the most derived metaclass is used</li>
</ul>
</blockquote>
<p>ç¿»è¯‘å¦‚ä¸‹</p>
<ul>
<li>å¦‚æœæ²¡æœ‰åŸºç±»ä¹Ÿæ²¡æœ‰æŒ‡å®š metaclassï¼Œé‚£ä¹ˆ<code>type()</code>å°†ä½œä¸ºå…ƒç±»ä½¿ç”¨ã€‚</li>
<li>å¦‚æœæŒ‡å®šäº†å…ƒç±»ï¼Œå¹¶ä¸”è¯¥å…ƒç±»ä¸æ˜¯ type çš„å®ä¾‹ï¼Œé‚£ä¹ˆç›´æ¥ä½¿ç”¨è¿™ä¸ªå…ƒç±»ã€‚</li>
<li>å¦‚æœå…ƒç±»æ˜¯ä¸€ä¸ª type çš„å®ä¾‹ï¼Œæˆ–è€…å­˜åœ¨åŸºç±»ï¼Œé‚£ä¹ˆä½¿ç”¨æœ€è¡ç”Ÿçš„å…ƒç±»ã€‚</li>
</ul>
<p>æœ‰ä¸€ä¸ªæ¯”è¾ƒéš¾ç†è§£çš„ç‚¹æ˜¯</p>
<blockquote>
<p>most derived metaclass</p>
</blockquote>
<p>ä¹Ÿå°±æ˜¯æ‰€è°“çš„<strong>æœ€è¡ç”Ÿçš„å…ƒç±»</strong>ã€‚æƒ¯ä¾‹ï¼Œå…ˆæ”¾æ–‡æ¡£è§£é‡Š</p>
<blockquote>
<p>The most derived metaclass is selected from the explicitly specified metaclass (if any) and the metaclasses (i.e. type(cls)) of all specified base classes. The most derived metaclass is one which is a subtype of all of these candidate metaclasses. If none of the candidate metaclasses meets that criterion, then the class definition will fail with TypeError.</p>
</blockquote>
<p>ç®€å•ç¿»è¯‘å¦‚ä¸‹</p>
<blockquote>
<p>æœ€è¡ç”Ÿçš„å…ƒç±»ä¼šä»ç±»å£°æ˜ä¸­æ˜ç¡®æä¾›çš„å…ƒç±»ï¼Œè¿˜æœ‰æ‰€æœ‰æ˜ç¡®ç»§æ‰¿çš„åŸºç±»çš„å…ƒç±»ä¸­é€‰æ‹©ã€‚æœ€è¡ç”Ÿçš„å…ƒç±»æ˜¯ä»¥ä¸Šæ‰€æœ‰å€™é€‰å…ƒç±»çš„å­ç±»å‹ï¼Œå¦‚æœæ²¡æœ‰ç±»å‹ç¬¦åˆè¿™ä¸€æ¡ä»¶ï¼Œåˆ™æŠ›å‡º<code>TypeError</code>å¼‚å¸¸ã€‚</p>
</blockquote>
<p>é‡ç‚¹åœ¨äºï¼Œ<strong>æœ€è¡ç”Ÿçš„å…ƒç±»å¿…é¡»æ˜¯</strong>ï¼Œæ‰€æœ‰ç»§æ‰¿çš„åŸºç±»çš„å…ƒç±»å’ŒæŒ‡å®šå…ƒç±»çš„<strong>å­ç±»å‹</strong>ã€‚</p>
<p>åœ¨è¿™é‡Œæé†’ä¸€ä¸‹ï¼Œ<code>issubclass(cls, cls)</code>çš„ç»“æœæ˜¯<code>True</code>ã€‚æ¢å¥è¯è¯´ï¼Œå¿…é¡»æœ‰ä¸€ä¸ªç±»æ˜¯æ‰€æœ‰å…ƒç±»çš„å­ç±»ï¼Œæˆ–è€…æ‰€æœ‰åŸºç±»æœ‰ç›¸åŒçš„å…ƒç±»ã€‚</p>
<p>ä»£ç ä¸¾ä¾‹å¦‚ä¸‹</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=k>class</span> <span class=nc>MetaA</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
    <span class=k>def</span> <span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>attr</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;MetaA &lt;- &#39;</span><span class=o>+</span><span class=n>name</span><span class=p>)</span>
        <span class=k>return</span> <span class=nb>type</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>attr</span><span class=p>)</span>

<span class=k>class</span> <span class=nc>MetaB</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
    <span class=k>def</span> <span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>attr</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;MetaB &lt;- &#39;</span><span class=o>+</span><span class=n>name</span><span class=p>)</span>
        <span class=k>return</span> <span class=nb>type</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>attr</span><span class=p>)</span>

<span class=k>class</span> <span class=nc>BaseA</span><span class=p>:</span> <span class=o>...</span>
<span class=k>class</span> <span class=nc>BaseB</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>MetaA</span><span class=p>):</span> <span class=o>...</span>
<span class=k>class</span> <span class=nc>BaseC</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>MetaB</span><span class=p>):</span> <span class=o>...</span>

<span class=c1># æœªæŒ‡å®šå…ƒç±»ï¼ŒåŸºç±»å…ƒç±»åˆ†åˆ«æ˜¯typeå’Œtypeçš„å­ç±»ï¼Œåˆ™é€‰æ‹©ç»§æ‰¿é“¾åº•éƒ¨çš„é‚£ä¸ªç±»</span>
<span class=k>class</span> <span class=nc>A</span><span class=p>(</span><span class=n>BaseA</span><span class=p>,</span> <span class=n>BaseB</span><span class=p>):</span> <span class=o>...</span>  <span class=c1># Ok,å…ƒç±»æ˜¯ MetaA</span>

<span class=c1># æŒ‡å®šå…ƒç±»ï¼Œå…ƒç±»å’ŒåŸºç±»å…ƒç±»ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œå…ƒç±»å°±æ˜¯é‚£ä¸ªå…ƒç±»</span>
<span class=k>class</span> <span class=nc>C</span><span class=p>(</span><span class=n>BaseB</span><span class=p>,</span> <span class=n>metaclass</span><span class=o>=</span><span class=n>MetaA</span><span class=p>):</span> <span class=o>...</span>  <span class=c1># Okï¼Œå…ƒç±»æ˜¯ MetaA</span>

<span class=c1># æŒ‡å®šå…ƒç±»ï¼Œå…ƒç±»å¹¶ä¸å¤„äºç»§æ‰¿é“¾åº•ç«¯çš„æƒ…å†µä¸‹ï¼Œå…ƒç±»é€‰æ‹©ç»§æ‰¿é“¾åº•ç«¯çš„ç±»</span>
<span class=k>class</span> <span class=nc>D</span><span class=p>(</span><span class=n>BaseB</span><span class=p>,</span> <span class=n>metaclass</span><span class=o>=</span><span class=nb>type</span><span class=p>):</span> <span class=o>...</span>  <span class=c1># Okï¼Œå…ƒç±»æ˜¯ MetaA</span>

<span class=c1># æŒ‡å®šå…ƒç±»ï¼Œä½†å…ƒç±»å’Œçˆ¶ç±»æ— çˆ¶å­ç±»å…³ç³»</span>
<span class=k>class</span> <span class=nc>E</span><span class=p>(</span><span class=n>BaseC</span><span class=p>,</span> <span class=n>metaclass</span><span class=o>=</span><span class=n>MetaA</span><span class=p>):</span> <span class=o>...</span>  <span class=c1># TypeError</span>

<span class=c1># ä¸æŒ‡å®šå…ƒç±»ï¼ŒåŸºç±»å…·æœ‰ä¸åŒçš„å…ƒç±»</span>
<span class=k>class</span> <span class=nc>F</span><span class=p>(</span><span class=n>BaseA</span><span class=p>,</span><span class=n>BaseB</span><span class=p>,</span><span class=n>BaseC</span><span class=p>):</span> <span class=o>...</span>  <span class=c1># TypeError</span>
</code></pre></div><p>è¾“å‡ºå¦‚ä¸‹</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain>MetaA &lt;- A
MetaA &lt;- C
MetaA &lt;- D

In [71]: class E(BaseC, metaclass=MetaA): ...  # TypeError
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
&lt;ipython-input-71-9129a36c52b2&gt; in &lt;module&gt;
----&gt; 1 class E(BaseC, metaclass=MetaA): ...  # TypeError

TypeError: metaclass conflict: the metaclass of a derived class must be a (non-strict) subclass of the metaclasses of all its bases

In [72]: class F(BaseA,BaseB,BaseC): ...  # TypeError
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
&lt;ipython-input-72-1c510edd69d1&gt; in &lt;module&gt;
----&gt; 1 class F(BaseA,BaseB,BaseC): ...  # TypeError

TypeError: metaclass conflict: the metaclass of a derived class must be a (non-strict) subclass of the metaclasses of all its bases
</code></pre></div><p>ä½†å…ƒç±»æ˜¯å‡½æ•°çš„æƒ…å†µä¸‹ä¼šæœ‰æ¯”è¾ƒç‰¹æ®Šçš„è¡¨ç°ï¼Œæ³¨æ„è§„åˆ™äºŒã€‚</p>
<blockquote>
<ul>
<li>å¦‚æœæŒ‡å®šäº†å…ƒç±»ï¼Œå¹¶ä¸”è¯¥å…ƒç±»ä¸æ˜¯ type çš„å®ä¾‹ï¼Œé‚£ä¹ˆç›´æ¥ä½¿ç”¨è¿™ä¸ªå…ƒç±»ã€‚</li>
</ul>
</blockquote>
<p>å¦‚æœå‡½æ•°å½¢å¼çš„å…ƒç±»ä½œä¸ºçˆ¶ç±»çš„å…ƒç±»æ—¶ä¸ä¼šåˆ—å…¥é€‰æ‹©ï¼Œé™¤éæŒ‡å®šå½“å‰ç±»çš„å…ƒç±»ä¸ºå‡½æ•°ï¼Œæ‰ä¼šè°ƒç”¨å‡½æ•°å½¢å¼çš„å…ƒç±»ï¼Œè€Œä¸”æ˜¯æ— æ¡ä»¶é€‰æ‹©è¿™ä¸ªå‡½æ•°å½¢å¼çš„å…ƒç±»ã€‚</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=k>def</span> <span class=nf>MetaA</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>attr</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;MetaA &lt;- &#34;</span><span class=o>+</span><span class=n>name</span><span class=p>)</span>
    <span class=k>return</span> <span class=nb>type</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>attr</span><span class=p>)</span>

<span class=k>class</span> <span class=nc>MetaB</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
    <span class=k>def</span> <span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>attr</span><span class=p>):</span>
        <span class=k>return</span> <span class=nb>type</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>attr</span><span class=p>)</span>

<span class=k>class</span> <span class=nc>A</span><span class=p>(</span><span class=n>MetaB</span><span class=p>,</span> <span class=n>metaclass</span><span class=o>=</span><span class=n>MetaA</span><span class=p>):</span> <span class=o>...</span>  <span class=c1># Okï¼Œæ— æ¡ä»¶é€‰æ‹©å…ƒç±» MetaA</span>
</code></pre></div>
</section>
<footer class=article-footer>
<section class=article-tags>
<a href=/blog/tags/python/>python</a>
</section>
<section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span>
</section>
</footer>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css integrity=sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js integrity=sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js integrity=sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.querySelector(`.article-content`),{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})})</script>
</article>
<aside class=related-contents--wrapper>
<h2 class=section-title>ç›¸å…³æ–‡ç« </h2>
<div class=related-contents>
<div class="flex article-list--tile">
<article>
<a href=/blog/p/b-tree/>
<div class=article-details>
<h2 class=article-title>Bæ ‘</h2>
</div>
</a>
</article>
<article>
<a href=/blog/p/avl-tree/>
<div class=article-details>
<h2 class=article-title>AVLæ ‘</h2>
</div>
</a>
</article>
<article>
<a href=/blog/p/pattern-match-in-python310/>
<div class=article-details>
<h2 class=article-title>pattern-match-in-python310</h2>
</div>
</a>
</article>
<article>
<a href=/blog/p/flask%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0wsgi/>
<div class=article-details>
<h2 class=article-title>Flaskæºç é˜…è¯»ç¬”è®°ï¼šWSGI</h2>
</div>
</a>
</article>
<article>
<a href=/blog/p/django-%E7%9A%84%E5%90%84%E7%A7%8D%E5%85%B3%E7%B3%BB%E5%AD%97%E6%AE%B5%E8%AF%A6%E8%A7%A3/>
<div class=article-details>
<h2 class=article-title>Django çš„å„ç§å…³ç³»å­—æ®µè¯¦è§£</h2>
</div>
</a>
</article>
</div>
</div>
</aside>
<link rel=stylesheet href=https://unpkg.com/vssue/dist/vssue.min.css>
<div id=vssue></div>
<script src=https://unpkg.com/vue@2.6.14/dist/vue.runtime.min.js></script>
<script src=https://unpkg.com/vssue@1.4.8/dist/vssue.github.min.js></script>
<script>new Vue({el:"#vssue",render:a=>a("Vssue",{props:{title:"python3å…ƒç±»æ·±å…¥è§£è¯»",options:{autoCreateIssue:!1,owner:"nnnewb",repo:"blog",clientId:"285910fdc1567a1a23e3",clientSecret:"f00da5438d9ac82c4a86024866c7a916ae411edc"}}})})</script>
<footer class=site-footer>
<section class=copyright>
&copy;
2021 -
2022 weakptr's ç¬”è®°
</section>
<section class=powerby>
GitHub Pages <br>
Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> <br>
Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.10.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a>
</section>
</footer>
<div class=pswp tabindex=-1 role=dialog aria-hidden=true>
<div class=pswp__bg></div>
<div class=pswp__scroll-wrap>
<div class=pswp__container>
<div class=pswp__item></div>
<div class=pswp__item></div>
<div class=pswp__item></div>
</div>
<div class="pswp__ui pswp__ui--hidden">
<div class=pswp__top-bar>
<div class=pswp__counter></div>
<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
<div class=pswp__preloader>
<div class=pswp__preloader__icn>
<div class=pswp__preloader__cut>
<div class=pswp__preloader__donut></div>
</div>
</div>
</div>
</div>
<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
<div class=pswp__share-tooltip></div>
</div>
<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
</button>
<div class=pswp__caption>
<div class=pswp__caption__center></div>
</div>
</div>
</div>
</div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous>
</main>
<aside class="sidebar right-sidebar sticky">
<section class="widget archives">
<div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg>
</div>
<h2 class="widget-title section-title">ç›®å½•</h2>
<div class=widget--toc>
<nav id=TableOfContents>
<ol>
<li><a href=#0-intro>0. intro</a></li>
<li><a href=#1-type>1. type</a></li>
<li><a href=#2-meta-class>2. meta class</a></li>
<li><a href=#3-å…ƒç±»ç»§æ‰¿è§„åˆ™>3. å…ƒç±»ç»§æ‰¿è§„åˆ™</a></li>
</ol>
</nav>
</div>
</section>
</aside>
</div>
<script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous></script><script type=text/javascript src=/blog/ts/main.js defer></script>
<script>(function(){const a=document.createElement('link');a.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",a.type="text/css",a.rel="stylesheet",document.head.appendChild(a)})()</script>
</body>
</html>